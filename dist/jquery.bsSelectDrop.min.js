!function(e){function t(t){if(t.closest(".dropdown").length)return t.closest(".dropdown");let o=t.data("options"),d=!1!==t.prop("multiple"),l=t.val(),a="";d&&(a='data-bs-auto-close="outside"');let r=[];o.dropUp&&r.push("dropup"),o.dropEnd&&r.push("dropend"),o.dropStart&&r.push("dropstart"),o.dropCenter&&r.push("dropdown-center");let p=e("<div>",{class:"dropdown js-bs-select-dropdown "+r.join(" "),html:`                <a class="${o.btnClass} dropdown-toggle d-flex flex-nowrap align-items-center" ${a} href="#" role="button" data-bs-toggle="dropdown"                    aria-expanded="false" style="width:${o.btnWidth}">                <div class="js-dropdown-header flex-fill text-start">${o.btnEmptyText}</div>                </a>`}).insertAfter(t);p.on("hide.bs.dropdown",function(){t.trigger("hide.bs.select")}).on("hidden.bs.dropdown",function(){t.trigger("hidden.bs.select")}).on("show.bs.dropdown",function(){t.trigger("show.bs.select"),e(".js-bs-select-dropdown .dropdown-menu.show").length&&e(".js-bs-select-dropdown .dropdown-menu.show").closest(".dropdown").dropdown("hide")}).on("shown.bs.dropdown",function(){t.trigger("shown.bs.select"),t.closest(".dropdown").find('[type="search"]').length&&t.closest(".dropdown").find('[type="search"]').focus()}),t.appendTo(p),t.val(l),t.hide();let i=o.darkMenu?"dropdown-menu-dark":"",c=e("<div>",{class:"dropdown-menu mt-1 "+i}).appendTo(p),u="",h=o.darkMenu?"btn-close-white":"",f="",m="";o.search&&(u='<input type="search" class="form-control form-control-sm me-auto" placeholder="Suchen..">'),d&&(f=`<button type="button" class="btn-close ${h} ms-2" data-bs-dismiss="dropdown" aria-label="Close"></button>`,o.showActionMenu&&(m=`						<div class="btn-group btn-group-sm mt-2 p-0">							<a href="#" class="btn btn-link p-0 js-select-select-all">${o.selectAllText}</a>							<a href="#" class="btn btn-link p-0 js-select-select-none">${o.deselectAllText}</a>						</div>					`)),e(`			<div class="d-flex flex-column px-2 pb-2 border-bottom">	            <div class="d-flex  justify-content-end align-items-center">	                ${u}	                ${f}	            </div>	            ${m}            </div>            `).appendTo(c),null!==o.menuPreHtml&&(e("<div>",{html:o.menuPreHtml,class:"text-muted p-3 fs-6"}).appendTo(c),e('<hr class="dropdown-divider mt-0">').appendTo(c));let b=0,g=!1;return t.find("optgroup, option").each(function(t,s){if(e(this).is("optgroup")){e(`<h6 class="dropdown-header text-uppercase text-start my-0 w-100 rounded-0 py-1 bg-${o.dropHeaderClass} text-bg-${o.dropHeaderClass}">${e(this).attr("label")}</h6>`).appendTo(c);return}let n=e(s),a=n.prop("value"),r=0!==n.closest("optgroup").length,p=n.prop("disabled");if(!a||""===a)return;let i="";!1!==a&&(i=d?e.inArray(a,l)>-1?"active":"":l===a?"active":"");let u=o.showSubtext&&n.data("subtext")?`<small class="text-muted mx-2">${n.data("subtext")}`:"";g&&!r&&e('<hr class="dropdown-divider">').appendTo(c),e("<div>",{html:`                <a class="dropdown-item ${i} ${p?"disabled":""} d-flex align-items-end" data-index="${b}" href="#">                    <span class=" ${r?"ps-3":""}">${n.text()}</span>                    ${u}                </a>`}).appendTo(c),g=r,b++}),null!==o.menuAppendHtml&&(e('<hr class="dropdown-divider">').appendTo(c),e("<div>",{html:o.menuAppendHtml,class:"text-muted fs-6",css:{padding:"4px 16px"}}).appendTo(c)),p.on("click",".js-select-select-all",function(e){e.preventDefault(),t.find("option").prop("selected",!0),n(t),t.trigger("change.bs.select"),t.bsSelectDrop("show")}).on("click",".js-select-select-none",function(e){e.preventDefault(),t.find("option").prop("selected",!1),n(t),t.trigger("change.bs.select"),t.bsSelectDrop("show")}).on("hidden.bs.dropdown",function(){let t=e(this).find('[type="search"]');t.length&&t.val(null).trigger("keyup")}).on("keyup",'[type="search"]',function(){let t=e(this).val().trim(),s=p.find("[data-index]");""!==t?s.each(function(s,o){e(o).text().trim().toUpperCase().indexOf(t.toUpperCase())>-1?e(o).removeClass("d-none"):e(o).addClass("d-none")}):s.removeClass("d-none")}).on("click",'[data-bs-dismiss="dropdown"]',function(t){e(t.currentTarget).closest(".dropdown").find('[data-bs-toggle="dropdown"]').dropdown("hide")}).on("click",".dropdown-item",function(o){o.preventDefault(),d||p.find(".dropdown-item.active").removeClass("active"),e(o.currentTarget).toggleClass("active");let n=[];p.find(".dropdown-item.active").each(function(s,o){let d=t.find("option:eq("+e(o).data("index")+")").prop("value");!1!==d&&n.push(d)}),d?t.val(n):n.length?t.val(n[0]):t.val(null),console.log(t.val()),s(t),t.trigger("change")}),s(t),p}function s(e){let t=e.data("options"),s=e.closest(".js-bs-select-dropdown"),o=s.find(".js-dropdown-header"),n=e.val(),d;if(n&&n.length){if(Array.isArray(n)){if(1===n.length){let l=e.find(`option[value="${n[0]}"]`);d=`<span>${l.text()}</span><small class="text-muted ms-2">${l.closest("optgroup").length&&l.data("subtext")?`<small class="text-muted mx-2">${l.data("subtext")}`:""}</small>`}else if(t.showSelectionAsList){let a=[];n.forEach(t=>{let s=e.find(`option[value="${t}"]`),o=s.closest("optgroup").length&&s.data("subtext")?s.data("subtext"):"";a.push(`<div><span>${s.text()}</span><small class="text-muted ms-2">${o}</small></div>`)}),d=`<div class="d-flex flex-column">${a.join("")}</div>`}else{let r=e.find("option").length;d=t.showSelectedText(n.length,r)}}else{let p=e.find(`option[value="${n}"]`);d=`<span>${p.text()}</span><small class="text-muted mx-2">${p.closest("optgroup").length&&p.data("subtext")?`<small class="text-muted ms-2">${p.data("subtext")}`:""}</small>`}}else d=t.btnEmptyText;o.html(d)}function o(e,t){let s=e.val(),o=e.closest(".js-bs-select-dropdown");e.insertBefore(o),e.val(s),o.remove(),t&&e.show()}function n(e){o(e,!1),t(e)}e.fn.bsSelectDrop=function(d,l){let a={btnWidth:"fit-content",btnEmptyText:"Please select..",dropUp:!1,dropStart:!1,dropEnd:!1,dropCenter:!1,dropHeaderClass:"secondary",btnClass:"btn btn-outline-secondary",search:!0,darkMenu:!1,menuPreHtml:null,menuAppendHtml:null,showSubtext:!0,showActionMenu:!0,showSelectionAsList:!0,showSelectedText:function(e,t){return`${e}/${t} selected`},deselectAllText:"Deselect All",selectAllText:"Select All"},r=!1,p=!1;return"string"==typeof d?r=!0:p=!0,e(this).each(function(i,c){var u,h;let f=e(c);if(p&&f.data("options",e.extend(!0,a,d||{})),t(f),r)switch(d){case"hide":let m;(m=(u=f).closest(".dropdown")).length&&m.dropdown("hide");break;case"show":let b;(b=(h=f).closest(".dropdown")).length&&b.dropdown("show");break;case"val":f.val(l),function e(t){let o=t.closest(".js-bs-select-dropdown");o.find(".dropdown-item.active").removeClass("active");let n=t.val();Array.isArray(n)||(n=[n]),n.forEach(e=>{let s=t.find(`option[value="${e}"]`).index();o.find(`.dropdown-item[data-index="${s}"]`).addClass("active")}),t.trigger("change"),s(t)}(f),n(f),f.trigger("change.bs.select");break;case"destroy":o(f,!0),f.trigger("destroy.bs.select");break;case"updateOptions":f.data("options",e.extend(!0,f.data("options"),l||{},a)),n(f),f.trigger("update.bs.select");break;case"refresh":n(f),f.trigger("refresh.bs.select")}return f})},e('[data-bs-toggle="select"]').bsSelectDrop()}(jQuery);